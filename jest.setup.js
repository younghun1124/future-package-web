import '@testing-library/jest-dom';
import fetch, { Request, Response } from 'node-fetch';

// 환경 변수 설정
process.env.NEXT_PUBLIC_BASE_URL = 'http://localhost:3000';
process.env.NEXT_PUBLIC_API_URL = 'http://localhost:3000/api';
process.env.NEXT_PUBLIC_KAKAO_JS_KEY='9b941621a5e268213d406e764d6c56dd'
process.env.NEXT_PUBLIC_SERVICE_URL='http://localhost:3000';
process.env.GCP_PROJECT_ID='futurebox-446013';
process.env.GCP_BUCKET_NAME='future-box-cdn';
process.env.GCP_SERVICE_ACCOUNT_KEY_BASE64='ewogICAgInR5cGUiOiAic2VydmljZV9hY2NvdW50IiwKICAgICJwcm9qZWN0X2lkIjogImZ1dHVyZWJveC00NDYwMTMiLAogICAgInByaXZhdGVfa2V5X2lkIjogImI4ZTIzYWJkYzY4ODI4MDVkODAxMmMxZGRhZmJmMDM5NTAwMDZmMjIiLAogICAgInByaXZhdGVfa2V5IjogIi0tLS0tQkVHSU4gUFJJVkFURSBLRVktLS0tLVxuTUlJRXZRSUJBREFOQmdrcWhraUc5dzBCQVFFRkFBU0NCS2N3Z2dTakFnRUFBb0lCQVFDbUZ5UWR2M0EvTU5ZMVxuQnlQRXErKzl0NjJwTlZyT25Ya2hoaFp5VjViS2Y3OTl2azJGZnY1dGpJTFBMb25nTjdHVThEazc2ckZjTmpwOFxuS1lXZTlGUWFZRU9RV3FqRUROYkRLWHd0NStVb01yQVFMUWQ0c2Y1WWtTL2N1RUtVeXR3NXJHcEUrWjMxYXp4aVxubVNZbkpLNWpxb2xxVWpzZGs2d1RHT2g2RmdXSUVXZEpJTTg0Z1ZRMk5ubzA1bkZ0Ky9JWGdkOEc1TXVJK2gvcFxudVdCVHNSSENBQ1pqalNrdmRGd3JLWnNPVFBNQ2hmRlBWeDNSSVFWUEJieWlDMkZRcE51ZTc1NmpTKzBGRVEwV1xuN01TOWJKN2FkQTl5eVVzcTFGUmE1ZWtqbzZOUHN2NE1QMHBoR1kzNGl2c0lYa3oyQTdvN1JBdTJKcTA3NFpzU1xuUTFTZEVUUVRBZ01CQUFFQ2dnRUFNUXFPTUhaeFYwYzlTS1VXQzZGVkJhaXhqMC9nd3pjK0tBYm1vOVozQU0zZFxucGV4R0NZL280a0hsOGZUazR4NnV3Yko0dzlkVmpVdTUweVdUZmM3WThuelFGbFNlbGx6UUlRb2p6NDQwWEwweVxudldQK1c4WDZ1djRMcXRtQlYxdmEwUEMyNUN6c1ZpWFd5Nm82MkwzOC9CTER4bkFIWW9GVEFzU05DRmR1UkxHY1xudlpJcVNMT0wwWTd3VUVBaE9nTnlvYS9wZ1VtTFAyZE9qaXd6ZUR6SWF5MVdueURaNjBrK09kY2tzYWMvZDkzM1xuT3VyQUdxYU5wQ0dGSE1pREFLLzJtMnFiN1c2cXJIRGlNOUhSaWtFZUpoWXBtVGpYL3U4MUk4cVRrUFlZWm5DR1xuUGVEVllnS1lvSno4bURCcDRrWEZ1S2s4WHdjeGV6WnBFWjV5UTU0UVdRS0JnUURkclNEYzRtNm1nM2Q3VUF4Q1xuK3IvNThNaVNENTR6MEtDSktScHJmMlVqeFlkTk5KbDNLdjdUTjRCOSs2STFMQUdZb3Zicm83QWZ4eXoyT0F6SlxuSDllUWVYcU15Q3puMkliYzdEc2lBQmd0cko4ZXNDNkxzcUtUeld1elFoMVlFT2FaU1FPNGJMS2ZsZm54aGN4Z1xuTnk1Nkp6bm1TZmRiQkpod09SeVdqaVFubndLQmdRQy96cTYxSE9LT2cvR3R4UG9mdGZlVUgzREdiMFBIN2FnYVxuOGtZUGJYWkVsZTlmUzdncHR0YzUvQ3psaldIeno5dGVDOFcrWnhYbTFOQUtYbS9rbWJLS1ByanVkQzBicGl6K1xuRmFpMjR3Wk4rU0txcmZZQUxVbVR2cnZaZDUySWN6MkZmL0tSUk5LOTBVbWZhS2RhOHhmZmd3OTJ4QmxvSGtpc1xubG1jYXZlc3ZEUUtCZ0Y3cGJaU2xibkxrL3hkUklxN2E1YStDSko1RkNadHR6QTV1QnQzWDRkbjdEUDlGY2gvUFxuek9OcWRCMTh5K3F3T002OWw3TTBsb2hFb3orWXFBREZIV3JDV0hKR2t0T0JwZHlaV0lncU9pLzBKUHppdWtzZFxuNVBZYmtlMWlkV1hyZHBCUzdzRGI2VzdpcSsxNU9CUktEQ0JKQTBWU2poSHVXY1pTN2FhWW5XcEpBb0dBVUdmRFxuQXpkZG5lS2Y0SGx2WlBXeUdJenBpTFhCMDBERU5LK1ZRUWhoQ0xWVnlEd0VzcS9zSDJtZ0pJYVZKbERmSTlpSlxuaDV6TktKdlRybFVTVU9GQllBU1ZINWppQS9Jd2NEOENIOUNocHZRbVhTaFp0STlIaGNEeUhHS3hUaThJL2pxNVxubzc0WEhlMXJFSUVkanRuVEN5WjB5QlBDbHN3REtSNVBrSDFHNXMwQ2dZRUFoZFVyTHRhU1R4WG1QdUtnV2JRbFxuQitOWE9kazdTcm5UeGVSWEgzYVRZNExXZUtXRmthZUNkLzFjSzFKdGhqck1BZ0FoOGFJd1FHUFV6VjEwVnlybFxuV0NaOVB6VmYyc0xJeElWWDVIUmM1Umg4SGpqM01pZHNkN2JITXpBOTV5bEhhMkYzTk5pdkV3TE42b25LMWZhZ1xuTUlLeWx2aFRNT3dXLzNOdDJwNUplTXc9XG4tLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tXG4iLAogICAgImNsaWVudF9lbWFpbCI6ICJmdXR1cmVib3gtcHJpdmF0ZS1zZXJ2ZXJsZXNzQGZ1dHVyZWJveC00NDYwMTMuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICAgImNsaWVudF9pZCI6ICIxMTExNzM5Nzg4MjY4MzQyNjI3MTQiLAogICAgImF1dGhfdXJpIjogImh0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi9hdXRoIiwKICAgICJ0b2tlbl91cmkiOiAiaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4iLAogICAgImF1dGhfcHJvdmlkZXJfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjEvY2VydHMiLAogICAgImNsaWVudF94NTA5X2NlcnRfdXJsIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3JvYm90L3YxL21ldGFkYXRhL3g1MDkvZnV0dXJlYm94LXByaXZhdGUtc2VydmVybGVzcyU0MGZ1dHVyZWJveC00NDYwMTMuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICAgInVuaXZlcnNlX2RvbWFpbiI6ICJnb29nbGVhcGlzLmNvbSIKfQogIA==';
process.env.NEXT_PUBLIC_CHANNEL_IO_KEY='abf23f98-b932-417d-9149-5c641eb52cab'
process.env.GOOGLE_API_KEY='AIzaSyAJL5mBS1vXcvwwph_4DN4ckJUQqwanl4w'

// fetch 설정
global.fetch = (url, options) => {
  if (url.startsWith('/')) {
    url = `${process.env.NEXT_PUBLIC_BASE_URL}${url}`;
  }
  return fetch(url, options);
};
global.Request = Request;
global.Response = Response;
